<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Ti·ªám Hoa TMT</title>
    <link rel="icon" href="images/admin.png" type="image/png">
    
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>

    <div class="sidebar">
        <div class="logo"><i class="fa-solid fa-seedling"></i> Ti·ªám Hoa TMT</div>
        
        <div class="menu-item active" onclick="switchTab('dashboard', this)">
            <i class="fa-solid fa-chart-pie"></i> T·ªïng Quan
        </div>
        <div class="menu-item" onclick="switchTab('products', this)">
            <i class="fa-solid fa-seedling"></i> S·∫£n Ph·∫©m
        </div>
        <div class="menu-item" onclick="switchTab('customers', this)">
            <i class="fa-solid fa-users"></i> Kh√°ch H√†ng VIP
        </div>
        
        <div style="margin-top: auto;">
            <a th:href="@{/index}" class="menu-item">
                <i class="fa-solid fa-arrow-right-from-bracket"></i> V·ªÅ Trang Ch·ªß
            </a>
        </div>
    </div>

    <div class="main-content">
        
        <div id="dashboard" class="tab-section active">
            <div class="stats-grid">
                <div class="card">
                    <div class="card-icon bg-pink"><i class="fa-solid fa-bag-shopping"></i></div>
                    <div><h3 id="totalOrders">0</h3><p>T·ªïng ƒê∆°n H√†ng</p></div>
                </div>
                <div class="card">
                    <div class="card-icon bg-green"><i class="fa-solid fa-money-bill-wave"></i></div>
                    <div><h3 id="totalRevenue">0 ƒë</h3><p>Doanh Thu</p></div>
                </div>
                <div class="card">
                    <div class="card-icon bg-blue"><i class="fa-solid fa-clock"></i></div>
                    <div><h3 id="lastUpdated">--:--</h3><p>C·∫≠p nh·∫≠t l√∫c</p></div>
                </div>
            </div>

            <div class="table-wrapper">
                <div class="table-header">
                    <h3>üì¶ Danh S√°ch ƒê∆°n H√†ng</h3>
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="üîç T√¨m t√™n kh√°ch, SƒêT..." onkeyup="filterOrders()">
                    </div>
                </div>
                <table>
                    <thead>
                        <tr><th>M√£</th><th>Kh√°ch H√†ng</th><th>Chi Ti·∫øt</th><th>T·ªïng Ti·ªÅn</th><th>Ng√†y ƒê·∫∑t</th><th>Tr·∫°ng Th√°i</th></tr>
                    </thead>
                    <tbody id="orderTableBody"></tbody>
                </table>
            </div>
        </div>

        <div id="products" class="tab-section">
            <div class="table-wrapper">
                <div class="table-header">
                    <h3>üåª Qu·∫£n L√Ω S·∫£n Ph·∫©m</h3>
                    <button class="btn btn-primary" onclick="openModal()">+ Th√™m Hoa M·ªõi</button>
                </div>
                <table>
                    <thead>
                        <tr><th>·∫¢nh</th><th>T√™n Hoa</th><th>Gi√° G·ªëc</th><th>Gi√° B√°n</th><th>H√†nh ƒê·ªông</th></tr>
                    </thead>
                    <tbody id="productTableBody">
                        </tbody>
                </table>
            </div>
        </div>

        <div id="customers" class="tab-section">
            <div class="table-wrapper">
                <div class="table-header">
                    <h3>üíé B·∫£ng X·∫øp H·∫°ng Kh√°ch H√†ng Th√¢n Thi·∫øt</h3>
                    <p style="font-size:13px; color:gray">
                        <span class="rank-badge rank-bronze">ƒê·ªìng < 1Tr</span>
                        <span class="rank-badge rank-silver">B·∫°c 1-3Tr</span>
                        <span class="rank-badge rank-gold">V√†ng 3-10Tr</span>
                        <span class="rank-badge rank-diamond">B·∫°ch Kim > 10Tr</span>
                    </p>
                </div>
                <table>
                    <thead><tr><th>H·∫°ng</th><th>T√™n Kh√°ch H√†ng</th><th>SƒêT</th><th>S·ªë ƒê∆°n</th><th>T·ªïng Chi Ti√™u</th></tr></thead>
                    <tbody id="customerTableBody"></tbody>
                </table>
            </div>
        </div>

    </div>

    <div id="productModal" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom:20px; color:var(--primary-color)">Th√™m Hoa M·ªõi</h3>
            <div class="form-group"><label>T√™n Hoa</label><input type="text" id="newProdName"></div>
            <div class="form-group"><label>Gi√° (VNƒê)</label><input type="number" id="newProdPrice"></div>
            <div class="form-group">
                <label>H√¨nh ·∫¢nh</label>
                <input type="file" id="newProdImgFile" accept="image/*"> <p id="uploadStatus" style="font-size:12px; color:gray; margin-top:5px"></p>
            </div>
            <div style="text-align:right; margin-top:20px;">
                <button class="btn" style="background:#f1f5f9; margin-right:10px; color:#333" onclick="closeModal()">H·ªßy</button>
                <button class="btn btn-primary" onclick="addProduct()">L∆∞u S·∫£n Ph·∫©m</button>
            </div>
        </div>
    </div>

    <div id="toast-container"></div>

    <audio id="notification-sound" src="/asset/voicethongbaodon.mp3" preload="auto"></audio>

    <script src="/js/admin.js"></script>
</body>
</html>
